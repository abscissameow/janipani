#:kivy 2.1.0
MDBoxLayout:
    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'lesson_screen'
            text: "Lessons"
            icon: 'book-open-page-variant'
            badge_icon: "numeric-10"
            on_tab_press: app.press_lesson_tab()
            MDCard:
                id:accordion
                size_hint: None, None
                size:  (root.size[0]*0.8,root.size[1]/1.8)
                md_bg_color:0.2,0.2,0.2,1
                pos_hint: {"center_x": .43, "center_y": .31}
                opacity:0

                Accordion:
                    orientation:'vertical'
                    AccordionItem:
                        title:'mnemonics Meaning'
                        background_normal:'accordion.png'
                        MDLabel:
                            id: mnemonics_meaning
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'1'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'mnemonics Reading'
                        MDLabel:
                            id: mnemonics_reading
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'1'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'мнемоникс Мининг'
                        MDLabel:
                            id:mnemonics_meaning_ru
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'2'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'мнемоникс Ридинг'
                        MDLabel:
                            id: mnemonics_reading_ru
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'2'
            
            MDIconButton:
                id: play_lesson_button
                icon: "cake"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release: app.press_lesson_cake()
                md_bg_color: app.theme_cls.primary_color
            MDLabel:
                id: play_lesson
                text: "LET'S CAKE"
                halign: 'center'
                pos_hint: {"center_x": .5, "center_y": .4}

            MDIconButton:
                md_bg_color: app.theme_cls.primary_color
                id: next_lesson_button
                icon: "cake-variant"
                pos_hint: {"center_x": .9, "center_y": .5}
                on_release: app.press_lesson_cake()
                disabled:True
                opacity:0
                
            MDLabel:
                id: next_lesson
                text: ""
                halign: 'center'
                pos_hint: {"center_x": .9, "center_y": .43}

            #----------------------------------------------------------------------------------------
            MDCard:
                id: info_mdcard
                size_hint: None, None
                size:  (root.size[0]*0.6,root.size[1]/3.5)
                md_bg_color:0,0,0,0
                radius:80
                pos_hint: {"center_x": .68, "center_y": .8}
                opacity:0
                orientation:'vertical'
                MDLabel:
                    id: meaning
                    font_size: max(root.width/40,root.height/45)
                    text: ""
                    halign: 'left'
                MDLabel:
                    id: kun_reading
                    font_size: max(root.width/40,root.height/45)
                    text: ""
                    halign: 'left'
                    font_name: "meiryo"
                MDLabel:
                    id: on_reading
                    font_size: max(root.width/40,root.height/45) if len(self.text)<71 else max(root.width/40,root.height/45)/1.8
                    text: ""
                    font_name: "meiryo"
                    halign: 'left'
            
            MDCard:
                id: mdcard_lesson_rad
                padding:10
                pos_hint: {"center_x": .2, "center_y": .8}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                text:""
                md_bg_color:0,163/255,245/255,1
                radius:80
                opacity:0
                Image:
                    id: rad_pic_lesson
                    source: 'rads/gun.png'
                    opacity: 1
            MDCard:
                id: mdcard_lesson
                padding:10
                pos_hint: {"center_x": .2, "center_y": .8}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                text:""
                md_bg_color:255/255,191/255,0/255,1
                radius:80
                opacity:0
                MDLabel:
                    id: hyerogliph_lesson
                    font_name: "meiryo"
                    font_size: 0 if not self.text else max(root.ids.mdcard_lesson.width/2,root.ids.mdcard_lesson.height/3)/(2 if len(self.text)==1 else len(self.text)/1.5 )
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: ""
                    halign: 'center'
                
                
                  
        #--------------------------------------------------------------------------------------------
        #--------------------------------------------------------------------------------------------

        MDBottomNavigationItem:
            name: 'review_screen'
            text: "Reviews"
            icon: 'cards'
            on_tab_press: app.press_review_tab()
            MDIconButton:
                id: play_review_button
                icon: 'cake'
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release: app.press_review_cake()
                md_bg_color: app.theme_cls.primary_color
            MDLabel:
                id: play_review
                text: "LET'S CAKE"
                halign: 'center'
                pos_hint: {"center_x": .5, "center_y": .4}

            MDLabel:
                id: meaning_reading
                text: ""
                font_size: 70
                halign: 'center'
                pos_hint: {"center_x": .5, "center_y": .25}
            MDTextField:
                id: input
                helper_text: "hehe looser"
                error:False
                line_color_normal: 1, 1, 1, 1
                text_color: 1, 1, 1, 1
                halign: 'center'
                font_name: "meiryo"
                font_size: 90
                opacity:0
                disabled: True
                on_text_validate: app.press_input()

            
            MDIconButton:
                md_bg_color: app.theme_cls.primary_color
                id: surrender_review_button
                icon: "book-refresh"
                pos_hint: {"center_x": .95, "center_y": .25}
                on_release: app.press_review_surrender()
                disabled:True
                opacity:0
            
            MDIconButton:
                md_bg_color: app.theme_cls.primary_color
                id: refresh_button
                icon: "refresh"
                pos_hint: {"center_x": .95, "center_y": .55}
                on_release: app.press_refresh()
                disabled:True
                opacity:0
            
            MDRectangleFlatButton:
                id: stage_review
                md_bg_color: app.theme_cls.primary_color
                pos_hint: {"center_x": .92, "center_y": .85}
                text: "apprentice"
                disabled: True
                opacity:0
                on_release: app.stage_button()
            
            MDCard:
                id: mdcard_review_rad
                padding:10
                pos_hint: {"center_x": .5, "center_y": .55}
                size_hint: None, None
                size:  (root.size[0]/3.5,root.size[1]/4)
                text:""
                md_bg_color:255/255,191/255,0/255,1
                radius:100
                opacity:0
                
                Image:
                    id: rad_pic_review
                    source: 'rads/gun.png'
                    opacity: 1

            MDCard:
                id: mdcard_review
                padding:10
                pos_hint: {"center_x": .5, "center_y": .55}
                size_hint: None, None
                size:  (root.size[0]/3.5,root.size[1]/4)
                text:""
                md_bg_color:255/255,191/255,0/255,1
                radius:100
                opacity:0
                
                MDLabel:
                    id: hyerogliph_review
                    font_name: "meiryo"
                    font_size: 0 if not self.text else max(root.ids.mdcard_review.width/2,root.ids.mdcard_review.height/3)/(2 if len(self.text)==1 else len(self.text)/1.5 )
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: ""
                    halign: 'center'
        #----------------------------------------------------------------------------------------------------
            MDCard:
                id:accordion_review
                size_hint: None, None
                size:  (root.size[0]*0.8,root.size[1]/1.8)
                md_bg_color:0.2,0.2,0.2,1
                pos_hint: {"center_x": .43, "center_y": .31}
                opacity:0

                Accordion:
                    orientation:'vertical'
                    AccordionItem:
                        title:'mnemonics Meaning'
                        background_normal:'accordion.png'
                        MDLabel:
                            id: mnemonics_meaning_review
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'1'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'mnemonics Reading'
                        MDLabel:
                            id: mnemonics_reading_review
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'1'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'мнемоникс Мининг'
                        MDLabel:
                            id:mnemonics_meaning_ru_review
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'2'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'мнемоникс Ридинг'
                        MDLabel:
                            id: mnemonics_reading_ru_review
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'2'
            
            MDIconButton:
                md_bg_color: app.theme_cls.primary_color
                id: next_lesson_button_review
                icon: "check"
                pos_hint: {"center_x": .9, "center_y": .5}
                on_release: app.press_lesson_cake_review()
                disabled:True
                opacity:0
                
            MDLabel:
                id: next_lesson_review
                text: ""
                halign: 'center'
                pos_hint: {"center_x": .9, "center_y": .43}


            MDCard:
                id: info_mdcard_review
                size_hint: None, None
                size:  (root.size[0]*0.6,root.size[1]/3.5)
                md_bg_color:0,0,0,0
                radius:80
                pos_hint: {"center_x": .68, "center_y": .8}
                opacity:0
                orientation:'vertical'
                MDLabel:
                    id: meaning_review
                    font_size: max(root.width/40,root.height/45)
                    text: ""
                    halign: 'left'
                MDLabel:
                    id: kun_reading_review
                    font_size: max(root.width/40,root.height/45)
                    text: ""
                    halign: 'left'
                    font_name: "meiryo"
                MDLabel:
                    id: on_reading_review
                    font_size: max(root.width/40,root.height/45) if len(self.text)<71 else max(root.width/40,root.height/45)/1.8
                    text: ""
                    font_name: "meiryo"
                    halign: 'left'
                
            MDCard:
                id: mdcard_lesson_rad_review
                padding:10
                pos_hint: {"center_x": .2, "center_y": .8}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                text:""
                md_bg_color:0,163/255,245/255,1
                radius:80
                opacity:0
                Image:
                    id: rad_pic_lesson_review
                    source: 'rads/gun.png'
                    opacity: 1
            MDCard:
                id: mdcard_lesson_review
                padding:10
                pos_hint: {"center_x": .2, "center_y": .8}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                text:""
                md_bg_color:255/255,191/255,0/255,1
                radius:80
                opacity:0
                MDLabel:
                    id: hyerogliph_lesson_review
                    font_name: "meiryo"
                    font_size: 0 if not self.text else max(root.ids.mdcard_lesson.width/2,root.ids.mdcard_lesson.height/3)/(2 if len(self.text)==1 else len(self.text)/1.5 )
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: ""
                    halign: 'center'

        #--------------------------------------------------------------------------------------------
        #--------------------------------------------------------------------------------------------
        MDBottomNavigationItem:
            name: 'info_screen'
            text: "info"
            icon: 'calendar-star'
            on_tab_press: app.press_info_tab()
            MDCard:
                id: Stages
                size_hint: None, None
                size:  (root.size[0]/1.6,root.size[1]/9)
                pos_hint: {"center_x": .5, "center_y": .28}
                md_bg_color: 0,0,0,0
                MDCard:
                    orientation:'vertical'
                    md_bg_color: 252/255,84/255,148/255,0.6
                    radius:20
                    MDLabel:
                        id:Apprentice
                        halign:'center'
                        font_size:'25sp'
                        text:'25'
                    MDLabel:
                        halign:'center'
                        theme_text_color:'Secondary'
                        text:'Apprentice'
                        
                MDCard:
                    orientation:'vertical'
                    md_bg_color: 96/255, 0, 144/255,0.8
                    radius:20
                    MDLabel:
                        id:Guru
                        halign:'center'
                        font_size:'25sp'
                        text:'10'
                    MDLabel:
                        halign:'center'
                        theme_text_color:'Secondary'
                        text:'Guru'
                MDCard:
                    orientation:'vertical'
                    md_bg_color: 75/255, 103/255, 224/255,0.8
                    radius:20
                    MDLabel:
                        id:Master
                        font_size:'25sp'
                        halign:'center'
                        text:'15'
                    MDLabel:
                        halign:'center'
                        theme_text_color:'Secondary'
                        text:'Master'
                MDCard:
                    orientation:'vertical'
                    md_bg_color: 0,163/255,245/255,0.8
                    radius:20
                    MDLabel:
                        id:Enlightened
                        font_size:'25sp'
                        halign:'center'
                        text:'2'
                    MDLabel:
                        halign:'center'
                        theme_text_color:'Secondary'
                        text:'Enlightened'
                MDCard:
                    orientation:'vertical'
                    md_bg_color: 0.2,0.2,0.2,1
                    radius:20
                    MDLabel:
                        id:Burned
                        font_size:'25sp'
                        halign:'center'
                        text:'1'
                    MDLabel:
                        halign:'center'
                        theme_text_color:'Secondary'
                        text:'Burned'
            MDLabel:
                id:progress
                pos_hint:{"center_x": .5, "center_y": .95}
                halign:'center'
                text: 'Your level is 1. GURU kanji 10/15'
            MDLabel:
                id:progress_under
                pos_hint:{"center_x": .5, "center_y": .85}
                halign:'center'
                opacity:0
                text: 'Your level is 1. GURU kanji 10/15'
            MDProgressBar:
                id:progress_bar
                pos_hint: {"center_x": .5, "center_y": .9}
                value: 50
            MDCard:
                orientation:'vertical'
                id: info
                padding:10
                pos_hint: {"center_x": .5, "center_y": .6}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                md_bg_color:app.theme_cls.primary_color
                radius:80
                MDLabel:
                    id: active_lessons
                    font_size: max(root.ids.mdcard_lesson.width/10,root.ids.mdcard_lesson.height/10)
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: "aa"
                    halign: 'center'
                MDLabel:
                    id: active_reviews
                    font_size: max(root.ids.mdcard_lesson.width/10,root.ids.mdcard_lesson.height/10)
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: "ss"
                    halign: 'center'
            MDTextField:
                id: search
                hint_text: "   search: 'rad/kan/voc meaning'"
                current_hint_text_color:app.theme_cls.primary_color
                line_color_normal: 1, 1, 1, 1
                text_color: 1, 1, 1, 1
                halign: 'center'
                font_name: "meiryo"
                font_size: 80
                on_text_validate: app.search(0)
            #------------------------------------------------------------------------------------
            MDRectangleFlatButton:
                id: stage_info
                md_bg_color: app.theme_cls.primary_color
                pos_hint: {"center_x": .92, "center_y": .1}
                text: "apprentice"
                disabled: True
                opacity:0
                on_release: app.stage_info_button()
            MDCard:
                id:accordion_info
                size_hint: None, None
                size:  (root.size[0]*0.8,root.size[1]/1.8)
                md_bg_color:0.2,0.2,0.2,1
                pos_hint: {"center_x": .43, "center_y": .31}
                opacity:0

                Accordion:
                    orientation:'vertical'
                    AccordionItem:
                        title:'mnemonics Meaning'
                        background_normal:'accordion.png'
                        MDLabel:
                            id: mnemonics_meaning_info
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'1'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'mnemonics Reading'
                        MDLabel:
                            id: mnemonics_reading_info
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'1'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'мнемоникс Мининг'
                        MDLabel:
                            id:mnemonics_meaning_ru_info
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'2'
                    AccordionItem:
                        background_normal:'accordion.png'
                        title:'мнемоникс Ридинг'
                        MDLabel:
                            id: mnemonics_reading_ru_info
                            font_name: "meiryo"
                            font_size: 32*max(root.width,root.height)/1600 if len(self.text) < 400 else max(32*400/len(self.text),18)*max(root.width,root.height)/1600
                            text:'2'
            MDIconButton:
                md_bg_color: app.theme_cls.primary_color
                id: info_next
                icon: "arrow-right"
                pos_hint: {"center_x": .9, "center_y": .5}
                on_release: app.search(1)
                disabled:True
                opacity:0

            MDIconButton:
                md_bg_color: app.theme_cls.primary_color
                id: next_lesson_button_info
                icon: "check"
                pos_hint: {"center_x": .9, "center_y": .3}
                on_release: app.press_lesson_cake_info()
                disabled:True
                opacity:0
                
            MDLabel:
                id: next_lesson_info
                text: ""
                halign: 'center'
                pos_hint: {"center_x": .9, "center_y": .43}


            MDCard:
                id: info_mdcard_info
                size_hint: None, None
                size:  (root.size[0]*0.6,root.size[1]/3.5)
                md_bg_color:0,0,0,0
                radius:80
                pos_hint: {"center_x": .68, "center_y": .8}
                opacity:0
                orientation:'vertical'
                MDLabel:
                    id: meaning_info
                    font_size: max(root.width/40,root.height/45)
                    text: ""
                    halign: 'left'
                MDLabel:
                    id: kun_reading_info
                    font_size: max(root.width/40,root.height/45)
                    text: ""
                    halign: 'left'
                    font_name: "meiryo"
                MDLabel:
                    id: on_reading_info
                    font_size: max(root.width/40,root.height/45) if len(self.text)<71 else max(root.width/40,root.height/45)/1.8
                    text: ""
                    font_name: "meiryo"
                    halign: 'left'
                
            MDCard:
                id: mdcard_lesson_rad_info
                padding:10
                pos_hint: {"center_x": .2, "center_y": .8}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                text:""
                md_bg_color:0,163/255,245/255,1
                radius:80
                opacity:0
                Image:
                    id: rad_pic_lesson_info
                    source: 'rads/gun.png'
                    opacity: 1
            MDCard:
                id: mdcard_lesson_info
                padding:10
                pos_hint: {"center_x": .2, "center_y": .8}
                size_hint: None, None
                size:  (root.size[0]/3,root.size[1]/3.5)
                text:""
                md_bg_color:255/255,191/255,0/255,1
                radius:80
                opacity:0
                MDLabel:
                    id: hyerogliph_lesson_info
                    font_name: "meiryo"
                    font_size: 0 if not self.text else max(root.ids.mdcard_lesson.width/2,root.ids.mdcard_lesson.height/3)/(2 if len(self.text)==1 else len(self.text)/1.5 )
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: ""
                    halign: 'center'

                


